#pragma once

///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// INCLUDES /////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#include <stdint.h>

///////////////////////////////////////////////////////////////////////////////
/////////////////////////// CLASSES/STRUCTURES ////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

template <class DERIVED_TYPE>
class Spi
{
    friend DERIVED_TYPE;
    DERIVED_TYPE & derivedType = static_cast <DERIVED_TYPE &> (*this);

    public:
        Spi () = default;

        void     Send    (const uint8_t  * const v_data, const uint16_t v_len) { derivedType.Send (v_data, v_len);    }
        void     Send    (const uint16_t * const v_data, const uint16_t v_len) { derivedType.Send (v_data, v_len);    }
        uint16_t Receive (uint8_t        *       v_data)                       { return derivedType.Receive (v_data); }

    private:
        ~Spi () = default;
};

///////////////////////////////////////////////////////////////////////////////
/////////////////////////////// END OF FILE ///////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
